<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ניהול סרטונים - פוטבול סקאוטינג</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../js/main.js" defer></script>
    <script src="../auth/auth.js" defer></script>
    <script src="../auth/auth-integration.js" defer></script>
    <script src="../js/admin.js" defer></script>
    <script src="../js/admin-videos.js" defer></script>
</head>
<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <h1>פוטבול סקאוטינג</h1>
                <p>לוח בקרה</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="dashboard.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>לוח בקרה</span>
                        </a>
                    </li>
                    <li>
                        <a href="users.html">
                            <i class="fas fa-users"></i>
                            <span>משתמשים</span>
                        </a>
                    </li>
                    <li>
                        <a href="videos.html" class="active">
                            <i class="fas fa-video"></i>
                            <span>סרטונים</span>
                        </a>
                    </li>
                    <li>
                        <a href="training.html">
                            <i class="fas fa-dumbbell"></i>
                            <span>תוכניות אימון</span>
                        </a>
                    </li>
                    <li>
                        <a href="reports.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>דוחות</span>
                        </a>
                    </li>
                    <li>
                        <a href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>הגדרות</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../index.html" class="back-to-site">
                    <i class="fas fa-arrow-left"></i>
                    <span>חזרה לאתר</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Top Bar -->
            <header class="admin-topbar">
                <div class="topbar-left">
                    <button id="toggle-sidebar" class="toggle-sidebar-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2>ניהול סרטונים</h2>
                </div>
                <div class="topbar-right">
                    <div class="admin-user">
                        <span id="admin-name">מנהל מערכת</span>
                        <div class="admin-avatar">
                            <img src="../images/admin-avatar.jpg" alt="מנהל מערכת">
                        </div>
                        <div class="admin-dropdown">
                            <a href="profile.html">הפרופיל שלי</a>
                            <a href="#" id="admin-logout">התנתק</a>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Videos Content -->
            <div class="admin-content">
                <!-- Videos Filters -->
                <div class="admin-card">
                    <div class="card-header">
                        <h3>סינון סרטונים</h3>
                    </div>
                    <div class="card-content">
                        <form id="videos-filter-form" class="filter-form">
                            <div class="filter-grid">
                                <div class="form-group">
                                    <label for="status-filter">סטטוס</label>
                                    <select id="status-filter">
                                        <option value="">הכל</option>
                                        <option value="pending" selected>ממתין לאישור</option>
                                        <option value="approved">מאושר</option>
                                        <option value="rejected">נדחה</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="challenge-filter">אתגר</label>
                                    <select id="challenge-filter">
                                        <option value="">הכל</option>
                                        <option value="1">אתגר 1: שליטה בכדור</option>
                                        <option value="2">אתגר 2: כדרור</option>
                                        <option value="3">אתגר 3: בעיטות</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="player-search">חיפוש שחקן</label>
                                    <input type="text" id="player-search" placeholder="הקלד שם שחקן...">
                                </div>
                                <div class="form-group">
                                    <label for="date-filter">תאריך העלאה</label>
                                    <select id="date-filter">
                                        <option value="">הכל</option>
                                        <option value="today">היום</option>
                                        <option value="week">השבוע האחרון</option>
                                        <option value="month">החודש האחרון</option>
                                    </select>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">סנן</button>
                                    <button type="reset" class="btn">נקה</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Videos Stats -->
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>ממתינים לאישור</h3>
                            <div class="stat-value" id="pending-videos-count">0</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>מאושרים</h3>
                            <div class="stat-value" id="approved-videos-count">0</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>נדחו</h3>
                            <div class="stat-value" id="rejected-videos-count">0</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <div class="stat-info">
                            <h3>סה"כ סרטונים</h3>
                            <div class="stat-value" id="total-videos-count">0</div>
                        </div>
                    </div>
                </div>

                <!-- Videos List -->
                <div class="admin-card">
                    <div class="card-header">
                        <h3>רשימת סרטונים</h3>
                        <div class="card-actions">
                            <select id="videos-sort">
                                <option value="date-desc">תאריך העלאה (מהחדש לישן)</option>
                                <option value="date-asc">תאריך העלאה (מהישן לחדש)</option>
                                <option value="player-asc">שם שחקן (א-ת)</option>
                                <option value="player-desc">שם שחקן (ת-א)</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="videos-table-container">
                            <table class="admin-table" id="videos-table">
                                <thead>
                                    <tr>
                                        <th>תמונה ממוזערת</th>
                                        <th>כותרת</th>
                                        <th>שחקן</th>
                                        <th>תאריך העלאה</th>
                                        <th>סטטוס</th>
                                        <th>פעולות</th>
                                    </tr>
                                </thead>
                                <tbody id="videos-list">
                                    <!-- Will be populated by JavaScript -->
                                    <tr>
                                        <td colspan="6" class="loading-cell">
                                            <div class="loading-spinner">
                                                <i class="fas fa-spinner fa-spin"></i>
                                                <p>טוען סרטונים...</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Pagination -->
                        <div class="pagination">
                            <button class="pagination-btn" id="prev-page" disabled><i class="fas fa-chevron-right"></i></button>
                            <div class="page-info">
                                עמוד <span id="current-page">1</span> מתוך <span id="total-pages">1</span>
                            </div>
                            <button class="pagination-btn" id="next-page" disabled><i class="fas fa-chevron-left"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Video Preview Modal -->
    <div class="modal" id="video-preview-modal">
        <div class="modal-content modal-lg">
            <span class="close-modal">&times;</span>
            <h2 id="video-title">כותרת הסרטון</h2>
            <div class="video-preview-container">
                <div class="video-player">
                    <!-- Will be populated by JavaScript -->
                </div>
                <div class="video-details">
                    <div class="detail-item">
                        <div class="detail-label">שחקן</div>
                        <div class="detail-value" id="video-player-name">שם השחקן</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">גיל</div>
                        <div class="detail-value" id="video-player-age">גיל השחקן</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">עמדה</div>
                        <div class="detail-value" id="video-player-position">עמדת השחקן</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">רמה</div>
                        <div class="detail-value" id="video-player-level">רמת השחקן</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">תאריך העלאה</div>
                        <div class="detail-value" id="video-upload-date">תאריך העלאה</div>
                    </div>
                </div>
            </div>
            <div class="video-actions">
                <button id="approve-video-btn" class="btn btn-success">אשר סרטון</button>
                <button id="reject-video-btn" class="btn btn-danger">דחה סרטון</button>
            </div>
            <div class="video-feedback">
                <h3>משוב</h3>
                <textarea id="video-feedback" placeholder="הוסף משוב לשחקן (אופציונלי)..."></textarea>
            </div>
        </div>
    </div>
</body>
</html>